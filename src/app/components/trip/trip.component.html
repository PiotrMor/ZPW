<mat-card class="mat-elevation-z4" [ngClass]="{'border-red': isMostExpensive, 'border-green': isCheapest}">
    <div class="flex-row">
        <div class="flex-image">
            <img src={{trip.imageUrl}}>
        </div>
        <div class="flex-trip-content">
            <button mat-icon-button color="warn" aria-label="Usuń wycieczkę" (click)=removeRequest()>
                <mat-icon>delete</mat-icon>
              </button>
            <mat-card-header class="card-content-header">
                <mat-card-title>{{trip.name | uppercase}}</mat-card-title>
                <mat-card-subtitle>{{trip.destination | uppercase}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <div class="trip-description">
                    {{trip.description}}
                </div>
                <div class="trip-details">
                    <p><b>Cena:</b> {{trip.price | currency}}</p>
                    <p><b>Termin wyjazdu:</b> {{trip.startDate | date:"MM.dd.yyyy"}} - {{trip.endDate | date:"MM.dd.yyyy"}}</p>
                    <p *ngIf="!isSoldOut(); else showSoldOutMessage" [style.color]="isAlmostSoldOut() ? 'orange' : 'green'">Ilość dostępnych miejsc: {{trip.availablePlaces}}</p>
                    <ng-template #showSoldOutMessage>
                        <p class="trip-soldout-message">Brak wolnych miejsc!</p>
                    </ng-template>
                </div>
            </mat-card-content>

            <mat-card-actions>
                <app-star-rating [(value)]="trip.rate"></app-star-rating>
                <button mat-raised-button class="action-button" color="primary" [disabled]="trip.availablePlaces == 0" (click)="addReservation()">+</button>
                <button mat-raised-button class="action-button" color="primary" [disabled]="trip.availablePlaces == trip.totalPlaces" (click)="removeReservation()">-</button>
            </mat-card-actions>
        </div>
    </div>
</mat-card>
